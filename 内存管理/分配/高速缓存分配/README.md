# 高速缓存分配

高速缓存分配专门用于为小对象提供可能的最佳分配性能。

高速缓存分配指直接从线程的分配缓冲区分配对象，线程的分配缓冲区是先前从堆上分配的。从该高速缓存分配的新对象，不需要获取堆锁，因此，高速缓存分配效率非常高。

小于 512 个字节（64 位 JVM 上为 768 个字节）的对象将从高速缓存分配。较大的对象如果空间允许，也会从高速缓存分配；如果空间不允许，将执行锁定的堆分配。

高速缓存块也被称为线程本地堆 (TLH=thread local heap)。TLH 在 512 字节（64 位 JVM 上为 768 字节) 到 128 KB 的范围内，这取决于线程分配比率。为分配大量对象的线程提供更大的 TLH，以进一步减少对堆锁的争用。