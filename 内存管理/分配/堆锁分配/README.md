# 堆锁分配

当分配请求无法在现有高速缓存中得到满足时，将发生堆锁分配。

正如其名称，堆锁分配需要加锁，因此，如果可能，尽量使用高速缓存分配，避免堆锁分配。有关高速缓存分配的描述，请参考[高速缓存分配](../高速缓存分配/README.md)

如果分配器找不到足够大的可用内存块，那么分配将失败，必会运行垃圾回收。 在一个垃圾回收周期之后，如果垃圾收集器找到了足够的可用内存，
那么分配器将再次搜索空闲列表并选取空闲块。在分配对象后，或者找不到足够的可用内存时，将释放堆锁。如果垃圾收集器找不到足够的可用内存，它将抛出 OutOfMemoryError异常。
